(window.webpackJsonp=window.webpackJsonp||[]).push([[13,4,7],{299:function(t,e,n){var content=n(303);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(83).default)("cc9ffabc",content,!0,{sourceMap:!1})},300:function(t,e,n){"use strict";n.r(e);var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-shrink-0 flex items-center"},[e("img",{staticClass:"hidden lg:block h-10 w-auto",attrs:{src:n(301),alt:"EPFL"}})])}],o={name:"Navbar"},l=(n(302),n(64)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"sticky top-0 z-50 bg-gray-800",attrs:{id:"navbarBG"}},[n("div",{staticClass:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8"},[n("div",{staticClass:"relative flex items-center justify-between h-16"},[n("div",{staticClass:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start"},[t._m(0),t._v(" "),n("div",{staticClass:"hidden sm:block sm:ml-6"},[n("div",{staticClass:"flex space-x-4"},[n("NuxtLink",{staticClass:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",attrs:{id:"nav1",to:"/"}},[t._v("Home")]),t._v(" "),n("NuxtLink",{staticClass:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",attrs:{id:"nav2",to:"/weekly"}},[t._v("Weekly Analysis")]),t._v(" "),n("NuxtLink",{staticClass:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",attrs:{id:"nav3",to:"/yearly"}},[t._v("Yearly Analysis")]),t._v(" "),n("NuxtLink",{staticClass:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",attrs:{id:"nav4",to:"/artist"}},[t._v("Artists")])],1)])])])])])}),r,!1,null,null,null);e.default=component.exports},301:function(t,e,n){t.exports=n.p+"img/icon.54b7b29.jpg"},302:function(t,e,n){"use strict";n(299)},303:function(t,e,n){var r=n(82)((function(i){return i[1]}));r.push([t.i,"/*purgecss start ignore*/\n#nav1{\n  color:#a4d938\n}\n#nav2{\n  color:#eb65b4\n}\n#nav3{\n  color:#fbd330\n}\n#nav4{\n  color:#4bbede\n}\n#navbarBG{\n  background-color:#0b1838\n}\n\n/*purgecss end ignore*/",""]),r.locals={},t.exports=r},312:function(t,e,n){"use strict";n.r(e);var r=n(32),o=(n(84),n(23),n(1),n(3),n(2),{chart:{type:"packedbubble",height:"80%",backgroundColor:"transparent"},credits:{enabled:!1},title:{text:"Singers for the top 20 tracks of the week",style:{color:"white",fontWeight:"normal"}},subtitle:{text:"Click on the bubble to check the profile of the singer!",style:{color:"white",fontWeight:"normal"}},tooltip:{useHTML:!0,pointFormat:"<b>{point.name}:</b> {point.orig} tracks this week"},legend:{enabled:!1},plotOptions:{packedbubble:{minSize:"20%",maxSize:"120%",zMin:0,zMax:500,layoutAlgorithm:{splitSeries:!1,gravitationalConstant:.02},dataLabels:{enabled:!0,format:"{point.name}",style:{color:"white",textOutline:"none",fontWeight:"normal"}}}},series:[]}),l={chart:{type:"bar",backgroundColor:"transparent",height:"1000px"},title:{text:"Top singers since 2018 Week 1",style:{color:"white",fontWeight:"normal"}},subtitle:{text:"Total number of distinct songs",style:{color:"white",fontWeight:"normal"}},xAxis:{categories:["Singers"]},yAxis:{min:0,title:{text:"Total tracks",align:"high",style:{color:"white",fontWeight:"normal"}},labels:{overflow:"justify"}},tooltip:{valueSuffix:" tracks"},plotOptions:{bar:{dataLabels:{enabled:!0,inside:!0,align:"right",formatter:function(){return this.series.name+": "+this.point.y}},groupPadding:0}},credits:{enabled:!1},series:[]},c="https://raw.githubusercontent.com/com-480-data-visualization/datavis-project-2022-shazam/main/dataset/crawler/data/singers/",h=null,d={name:"WeeklyTimeline",data:function(){return{year:-1,week:-1,weeklySingerData:null,historicalDistinctTracksPerSingerData:null,weekOptions:[],shouldDisplayAllComponents:0,shouldDisplayWeekButton:!1,bubbleRef:null,bubbleChartData:o,barRef:null,barChartData:l}},methods:{fetchData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.weeklySingerData=null,t.historicalDistinctTracksPerSingerData=null,e.next=4,fetch(c+"weekly/"+encodeURIComponent(t.year+"_"+t.week)+".json");case 4:return n=e.sent,e.next=7,n.json();case 7:return t.weeklySingerData=e.sent,e.next=10,fetch(c+"distinct_historical/"+encodeURIComponent(t.year+"_"+t.week)+".json");case 10:return r=e.sent,e.next=13,r.json();case 13:t.historicalDistinctTracksPerSingerData=e.sent,t.processData();case 15:case"end":return e.stop()}}),e)})))()},processData:function(){var t=[];this.weeklySingerData.forEach((function(e){t.push({name:e.name,value:100*e.count,orig:e.count})})),this.bubbleChartData.series=[{name:"Singers",data:t}],h=this.$router,this.bubbleChartData.plotOptions.series={allowPointSelect:!0,events:{click:function(t){h.push({path:"/singer/".concat(t.point.name)})}}},this.bubbleRef=Highcharts.chart("bubbleChart",this.bubbleChartData);t=[];this.historicalDistinctTracksPerSingerData.forEach((function(e){t.push({name:e.name,text:e.name,data:[e.count]})})),t.length>100&&(t=t.filter((function(t){return t.data[0]>1}))),t.length>100&&(t=t.filter((function(t){return t.data[0]>2}))),this.barChartData.series=t,this.barRef=Highcharts.chart("barChart",this.barChartData)},updateShouldDisplay:function(){-1!==this.year&&-1!==this.week&&(this.shouldDisplayAllComponents+=1)},updateYear:function(t){if(this.year=t.path[0].innerHTML,this.shouldDisplayWeekButton=!0,this.weekOptions=[],2018==this.year)for(var i=2;i<=52;i++)this.weekOptions.push({value:i,element:'href="#" @click="updateYear($event)"'});else if(2019<=this.year&&this.year<=2021)for(i=1;i<=52;i++)this.weekOptions.push({value:i,element:'href="#" @click="updateYear($event)"'});else for(i=1;i<=14;i++)this.weekOptions.push({value:i,element:'href="#" @click="updateYear($event)"'});2018==this.year&&1==this.week&&(this.week=2),this.updateShouldDisplay()},updateWeek:function(t){this.week=t.path[0].innerHTML,this.updateShouldDisplay()}},computed:{yearDisplayString:function(){return-1===this.year?"Select a year":this.year},weekDisplayString:function(){return-1===this.week?"Select a week":"Week "+this.week}},watch:{shouldDisplayAllComponents:function(){this.fetchData()}},mounted:function(){this.bubbleRef=Highcharts.chart("bubbleChart",this.bubbleChartData),this.barRef=Highcharts.chart("barChart",this.barChartData)}},m=n(64),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mx-auto min-h-screen"},[n("div",{staticClass:"container mx-auto grid grid-cols-1 place-content-center mt-6"},[n("div",{staticClass:"flex items-center justify-center"},[n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-2",text:this.yearDisplayString,variant:"primary"}},[n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return t.updateYear(e)}}},[t._v("2018")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return t.updateYear(e)}}},[t._v("2019")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return t.updateYear(e)}}},[t._v("2020")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return t.updateYear(e)}}},[t._v("2021")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return t.updateYear(e)}}},[t._v("2022")])],1),t._v(" "),n("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.shouldDisplayWeekButton,expression:"shouldDisplayWeekButton"}],staticClass:"m-md-2",attrs:{id:"dropdown-3",text:this.weekDisplayString,variant:"primary"}},t._l(t.weekOptions,(function(option,e){return n("b-dropdown-item",{key:e,tag:"component",attrs:{href:"#"},on:{click:function(e){return t.updateWeek(e)}}},[t._v(t._s(option.value))])})),1)],1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldDisplayAllComponents,expression:"shouldDisplayAllComponents"}],staticClass:"container mx-auto w-2/3 grid grid-cols-1 place-content-center mt-6"},[n("p",{staticClass:"text-xl text-gray-400 flex-grow text-center"},[t._v("Who are the most popular artists that have the most listened songs? Here each bubble represents a singer whose songs figured in the top 20 of this week. The larger the size of the bubble is, the more popular his songs are this week.")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldDisplayAllComponents,expression:"shouldDisplayAllComponents"}],staticClass:"container mx-auto grid grid-cols-1 place-content-center mt-6"},[t._m(0)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldDisplayAllComponents,expression:"shouldDisplayAllComponents"}],staticClass:"container w-2/3 mx-auto grid grid-cols-1 place-content-center"},[n("p",{staticClass:"text-xl text-gray-400 flex-grow text-center"},[t._v("Meanwhile, are you curious about the artist's leaderboard based on the number of times his/her songs have been on the Billboard since 2018 to the selected week? The histogram shows the answer.")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldDisplayAllComponents,expression:"shouldDisplayAllComponents"}],staticClass:"container mx-auto grid grid-cols-1 place-content-center mt-6"},[n("div"),t._v(" "),t._m(1),t._v(" "),n("div")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldDisplayAllComponents,expression:"shouldDisplayAllComponents"}],staticClass:"container mx-auto grid grid-cols-3 place-content-center mt-6"},[n("div"),t._v(" "),n("div",{staticClass:"flex items-center justify-center"},[n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.$router.back()}}},[n("button",{staticClass:"border border-gray-600 bg-gray-800 text-white font-medium text-lg focus:outline-none hover:bg-gray-700 hover:border-gray-600 focus:ring-gray-700 rounded-full px-5 py-2.5 mr-2 mb-2"},[t._v("\n                    Go Back\n                ")])])]),t._v(" "),n("div")])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex items-center justify-center"},[e("div",{attrs:{id:"bubbleChart"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex items-center justify-center"},[e("div",{attrs:{id:"barChart"}})])}],!1,null,null,null);e.default=component.exports},318:function(t,e,n){"use strict";n.r(e);var r=n(10),o=n(300),l=n(312),c=r.default.extend({name:"WeeklyPage",components:{Navbar:o.default,WeeklyComponent:l.default},data:function(){return{}}}),h=n(64),component=Object(h.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-gray-900 min-h-screen"},[n("navbar"),t._v(" "),n("WeeklyComponent")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Navbar:n(300).default,WeeklyComponent:n(312).default})}}]);