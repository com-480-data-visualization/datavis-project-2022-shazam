(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{303:function(e,t,r){"use strict";r.r(t);var n=r(32),o=(r(82),r(1),r(3),r(23),{chart:{type:"packedbubble",height:"100%",backgroundColor:"transparent"},credits:{enabled:!1},title:{text:"Singers for the top 20 tracks of the week",style:{color:"white",fontWeight:"normal"}},tooltip:{useHTML:!0,pointFormat:"<b>{point.name}:</b> {point.orig} tracks this week"},plotOptions:{packedbubble:{minSize:"20%",maxSize:"120%",zMin:0,zMax:500,layoutAlgorithm:{splitSeries:!1,gravitationalConstant:.02},dataLabels:{enabled:!0,format:"{point.name}",style:{color:"white",textOutline:"none",fontWeight:"normal"}}}},series:[]}),l={chart:{type:"bar",backgroundColor:"transparent"},title:{text:"Top singers since 2018 Week 1",style:{color:"white",fontWeight:"normal"}},subtitle:{text:"By total number of songs accumulated on billboard",style:{color:"white",fontWeight:"normal"}},xAxis:{categories:["","","","",""],title:{text:"Ranking",style:{color:"white",fontWeight:"normal"}}},yAxis:{min:0,title:{text:"Total tracks",align:"high",style:{color:"white",fontWeight:"normal"}},labels:{overflow:"justify"}},tooltip:{valueSuffix:" tracks"},plotOptions:{bar:{dataLabels:{enabled:!0,inside:!0,align:"right",formatter:function(){return"Singer"+this.x+": "+this.y}}}},credits:{enabled:!1},series:[{name:"Singer A",data:[20]},{name:"Singer B",data:[19]},{name:"Singer C",data:[10]},{name:"Singer D",data:[1]},{name:"Singer D",data:[1]},{name:"Singer D",data:[1]}]},c="https://raw.githubusercontent.com/com-480-data-visualization/datavis-project-2022-shazam/main/dataset/crawler/data/singers/weekly/",h={name:"WeeklyTimeline",data:function(){return{year:-1,week:-1,weeklySingerData:null,weekOptions:[],shouldDisplayAllComponents:0,shouldDisplayWeekButton:!1,bubbleRef:null,bubbleChartData:o,barRef:null,barChartData:l}},methods:{fetchData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.singerData=null,console.log(c+e.year+"_"+e.week+".json"),t.next=4,fetch(c+encodeURIComponent(e.year+"_"+e.week)+".json");case 4:return r=t.sent,t.next=7,r.json();case 7:e.weeklySingerData=t.sent,e.processData();case 9:case"end":return t.stop()}}),t)})))()},processData:function(){var e=[];this.weeklySingerData.forEach((function(t){e.push({name:t.name,value:100*t.count,orig:t.count})})),this.bubbleChartData.series=[{name:"Singers",data:e}],console.log(this.bubbleChartData.series),this.bubbleRef=Highcharts.chart("bubbleChart",this.bubbleChartData)},updateShouldDisplay:function(){-1!==this.year&&-1!==this.week&&(this.shouldDisplayAllComponents+=1)},updateYear:function(e){if(this.year=e.path[0].innerHTML,this.shouldDisplayWeekButton=!0,this.weekOptions=[],2018==this.year)for(var i=2;i<=52;i++)this.weekOptions.push({value:i,element:'href="#" @click="updateYear($event)"'});else if(2019<=this.year&&this.year<=2021)for(i=1;i<=52;i++)this.weekOptions.push({value:i,element:'href="#" @click="updateYear($event)"'});else for(i=1;i<=14;i++)this.weekOptions.push({value:i,element:'href="#" @click="updateYear($event)"'});this.updateShouldDisplay()},updateWeek:function(e){this.week=e.path[0].innerHTML,this.updateShouldDisplay()}},computed:{yearDisplayString:function(){return-1===this.year?"Select a year":this.year},weekDisplayString:function(){return-1===this.week?"Select a week":"Week "+this.week}},watch:{shouldDisplayAllComponents:function(){console.log("Updating the page"),this.fetchData()}},mounted:function(){this.bubbleRef=Highcharts.chart("bubbleChart",this.bubbleChartData),this.barRef=Highcharts.chart("barChart",this.barChartData)}},d=r(64),component=Object(d.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mx-auto min-h-screen"},[r("div",{staticClass:"container mx-auto grid grid-cols-1 place-content-center mt-6"},[r("div",{staticClass:"flex items-center justify-center"},[r("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-1",text:this.yearDisplayString,variant:"primary"}},[r("b-dropdown-item",{attrs:{href:"#"},on:{click:function(t){return e.updateYear(t)}}},[e._v("2018")]),e._v(" "),r("b-dropdown-item",{attrs:{href:"#"},on:{click:function(t){return e.updateYear(t)}}},[e._v("2019")]),e._v(" "),r("b-dropdown-item",{attrs:{href:"#"},on:{click:function(t){return e.updateYear(t)}}},[e._v("2020")]),e._v(" "),r("b-dropdown-item",{attrs:{href:"#"},on:{click:function(t){return e.updateYear(t)}}},[e._v("2021")]),e._v(" "),r("b-dropdown-item",{attrs:{href:"#"},on:{click:function(t){return e.updateYear(t)}}},[e._v("2022")])],1),e._v(" "),r("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.shouldDisplayWeekButton,expression:"shouldDisplayWeekButton"}],staticClass:"m-md-2",attrs:{id:"dropdown-2",text:this.weekDisplayString,variant:"primary"}},e._l(e.weekOptions,(function(option,t){return r("b-dropdown-item",{key:t,tag:"component",attrs:{href:"#"},on:{click:function(t){return e.updateWeek(t)}}},[e._v(e._s(option.value))])})),1)],1)]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldDisplayAllComponents,expression:"shouldDisplayAllComponents"}],staticClass:"container mx-auto grid grid-cols-1 place-content-center mt-6"},[r("p",{staticClass:"text-xl text-gray-400 flex-grow text-center"},[e._v("Who are the most popular artists that have the most listened songs?")]),e._v(" "),r("p",{staticClass:"text-xl text-gray-400 flex-grow text-center"},[e._v("Here each bubble represent a singer whose songs figured in the top 20 of this week.")]),e._v(" "),r("p",{staticClass:"text-xl text-gray-400 flex-grow text-center"},[e._v("The larger the size of the bubble is, the more songs from this singer are hitting.")]),e._v(" "),r("p",{staticClass:"text-xl text-gray-400 flex-grow text-center"},[e._v("Click on the bubble to check the profile of the singer!")]),e._v(" "),e._m(0)]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldDisplayAllComponents,expression:"shouldDisplayAllComponents"}],staticClass:"container mx-auto grid grid-cols-1 place-content-center mt-6"},[r("div"),e._v(" "),e._m(1),e._v(" "),r("div")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldDisplayAllComponents,expression:"shouldDisplayAllComponents"}],staticClass:"container mx-auto grid grid-cols-3 place-content-center mt-6"},[r("div"),e._v(" "),r("div",{staticClass:"flex items-center justify-center"},[r("div",{staticClass:"inline-flex shadow-md hover:shadow-lg focus:shadow-lg gap-4",attrs:{role:"group"}},[r("NuxtLink",{attrs:{to:"/singer"}},[r("button",{staticClass:"border border-gray-600 bg-gray-800 text-white font-medium text-lg focus:outline-none hover:bg-gray-700 hover:border-gray-600 focus:ring-gray-700 rounded-full px-5 py-2.5 mr-2 mb-2"},[e._v("To Singer")])])],1)]),e._v(" "),r("div")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldDisplayAllComponents,expression:"shouldDisplayAllComponents"}],staticClass:"container mx-auto grid grid-cols-3 place-content-center mt-6"},[r("div"),e._v(" "),r("div",{staticClass:"flex items-center justify-center"},[r("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$router.back()}}},[r("button",{staticClass:"border border-gray-600 bg-gray-800 text-white font-medium text-lg focus:outline-none hover:bg-gray-700 hover:border-gray-600 focus:ring-gray-700 rounded-full px-5 py-2.5 mr-2 mb-2"},[e._v("\n                    Go Back\n                ")])])]),e._v(" "),r("div")])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex items-center justify-center"},[t("div",{attrs:{id:"bubbleChart"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex items-center justify-center"},[t("div",{attrs:{id:"barChart"}})])}],!1,null,null,null);t.default=component.exports}}]);